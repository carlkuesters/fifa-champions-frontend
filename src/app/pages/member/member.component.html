<main *ngIf="displayedMemberDetails | async as displayedMemberDetails">
  <div class="title">
    <h1>{{displayedMemberDetails.name}}</h1>
    <div>Mitglied seit {{displayedMemberDetails.joinDate}}</div>
  </div>
  <div class="info">
    <img [src]="displayedMemberDetails.image">
    <dl>
      <dt>Turniere</dt>
      <dd>{{displayedMemberDetails.tournaments}}</dd>
      <dt>Spiele</dt>
      <dd>{{displayedMemberDetails.matches}}</dd>
      <dt>Tore</dt>
      <dd>{{displayedMemberDetails.goalsShot}}</dd>
      <dt>Gegentore</dt>
      <dd>{{displayedMemberDetails.goalsReceived}}</dd>
      <dt>Siege</dt>
      <dd>{{displayedMemberDetails.wins}}</dd>
      <dt>Unentsch.</dt>
      <dd>{{displayedMemberDetails.draws}}</dd>
      <dt>Niederl.</dt>
      <dd>{{displayedMemberDetails.losses}}</dd>
    </dl>
    <a [routerLink]="displayedMemberDetails.routeDuel">Duell-Bilanz</a>
  </div>
  <div class="content">
    <p>{{displayedMemberDetails.description}}</p>
    <dl class="rankings">
      <dt>Weltrangliste:</dt>
      <dd>{{displayedMemberDetails.latestRanking ? 'Platz ' + displayedMemberDetails.latestRanking.rank : '-'}}</dd>
      <dt>Höhepunkt:</dt>
      <dd>{{displayedMemberDetails.bestRanking ? 'Platz ' + displayedMemberDetails.bestRanking.rank + ' (' + displayedMemberDetails.bestRanking.date + ')' : '-'}}</dd>
    </dl>
    <fc-member-ranking-chart [rankings]="displayedMemberDetails.allRankings"></fc-member-ranking-chart>
    <h2>FC Awards</h2>
    <ul class="awards">
      <li *ngFor="let award of displayedMemberDetails.awards">
        <img src="assets/images/award_100.png">
        <span>{{award.title + ' ' + award.year}}</span>
      </li>
    </ul>
    <h2>Turniere</h2>
    <div class="button-row">
      <button class="fa fa-trophy" (click)="sortTournamentResults(false)"></button>
      <button class="fa fa-calendar" (click)="sortTournamentResults(true)"></button>
    </div>
    <ul class="tournament-results">
      <li *ngFor="let tournamentResult of displayedMemberDetails.tournamentResults">
        <a [routerLink]="tournamentResult.routeTournament">
          <div class="image-wrapper">
            <img [src]="'assets/images/tournaments/' + tournamentResult.tournamentType + '_300.png'">
          </div>
          <span>
            {{tournamentResult.title}}
            <span class="hint">{{tournamentResult.location}}</span>
          </span>
        </a>
      </li>
    </ul>
    <h2>Anderes</h2>
    <ul class="other">
      <ng-container *ngIf="displayedMemberDetails.highestWin as highestWin">
        <li>
          <span>
            Höchster Sieg: {{highestWin.goalsOwn}}:{{highestWin.goalsOpponent}}, gegen <a [routerLink]="highestWin.routeOpponent">{{highestWin.opponentName}}</a>&nbsp;
            <a [routerLink]="highestWin.routeTournament" class="hint">({{highestWin.tournamentTitle}})</a>
          </span>
        </li>
      </ng-container>
      <ng-container *ngIf="displayedMemberDetails.highestLoss as highestLoss">
        <li>
          <span>
            Höchste Niederlage: {{highestLoss.goalsOwn}}:{{highestLoss.goalsOpponent}}, gegen <a [routerLink]="highestLoss.routeOpponent">{{highestLoss.opponentName}}</a>&nbsp;
            <a [routerLink]="highestLoss.routeTournament" class="hint">({{highestLoss.tournamentTitle}})</a>
          </span>
        </li>
      </ng-container>
    </ul>
  </div>
</main>
